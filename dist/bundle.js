!function(t){function e(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){var n=Vue.component("task-textarea",{template:'<div>    <div class="sepa-mode">      <input type="radio" id="space" value="space" v-model="sepaMode">      <label for="space">Space</label>      <input type="radio" id="tab" value="tab" v-model="sepaMode">      <label for="tab">Tab</label>    </div>    <textarea v-model="text" placeholder="Title 30 Todo/Doing/Done Assignee"></textarea>  </div>',props:[],data:function(){return{sepaMode:"space",text:""}},watch:{sepaMode:function(){this.updateText()},text:function(){this.updateText()}},mounted:function(){this.text=["タスク1 30 Todo","タスク2 40 Todo","タスク3 50 Todo","タスク4 60 Todo","タスク5 70 Doing Aさん","タスク6 80 Done","タスク7 55 Todo","タスク8 45 Doing","タスク9 35 Done","タスク10 90 Done Bさん"].join("\n")},methods:{getReg:function(){return"space"==this.sepaMode?/(\S+)[ ]+([\d\.]+)([ ]+(\S+))?([ ]+(\S+))?/:/(.+)[\t]+([\d\.]+)([\t]+(\w+))?([\t]+(.+))?/},updateText:function(){var t=this,e=t.getReg(),n={name:"root_dir",children:null},s=t.text.split("\n").filter(function(t){return null!=t.match(e)}).map(function(t){var n=t.match(e);return{name:n[1],size:Number(n[2]),status:n[4]?n[4]:"Todo",assignee:n[6]}});n.children=s,t.$emit("update-tasks",{tasks:n})}}});t.exports=n},function(t,e){var n=Vue.component("task-treemap",{template:'<div id="treemap"></div>',props:["tasks"],data:function(){return{}},watch:{tasks:function(){this.setTasks()}},methods:{setTasks:function(){this.update()},update:function(){for(var t=this,e=document.getElementById("treemap");e.firstChild;)e.removeChild(e.firstChild);if(null!=t.tasks&&null!=t.tasks.children&&0!=t.tasks.children.length){var n=document.getElementById("treemap").clientHeight,s=document.getElementById("treemap").clientWidth,a=d3.layout.treemap().size([s,n]).value(function(t){return t.size});d3.select("#treemap").datum(t.tasks).selectAll("div").data(a.nodes).enter().append("div").style("left",function(t){return t.x+"px"}).style("top",function(t){return t.y+"px"}).style("width",function(t){return t.dx-2+"px"}).style("height",function(t){return t.dy-2+"px"}).style("background",function(t,e){return"Done"==t.status?"rgb(199, 199, 199)":"Doing"==t.status?"rgb(174, 199, 232)":"rgb(152, 223, 138)"}).style("position","absolute").style("overflow","hidden").style("border","solid 1px #333").style("padding","0px").on("click",function(t){console.log(t)}).html(function(t){return t.children?"":['<div class="task-name">'+t.name+"</div>",'<div class="task-size">'+t.size+"</div>",t.assignee?'<div><span class="task-assignee">'+t.assignee+"</span></div>":""].join("")})}}}});t.exports=n},function(t,e,n){n(1),n(0);new Vue({el:"#app",data:{tasks:null},mounted:function(){this.tasks=null},methods:{updateTasks:function(t){this.tasks=t.tasks}}})}]);