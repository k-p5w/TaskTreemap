<!DOCTYPE html>
<html>
  <head>
    <title>TaskTreemap</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link href="css/index.css" media="screen" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div id="app" @click.alt="changeView">
      <div class="wrapper" v-if="viewMode == 1">
        <task-treemap class="treemap-area"
                      :tasks="tasks"
                      :trigger="updateTrigger"
                      v-on:update-tasks="updateTextTasks"
                      v-on:select-task="selectTask">
        </task-treemap>
        <div class="rightpane">
          <task-textarea class="text-area"
                         :id="id"
                         :tasks="textTasks"
                         :line="taskLine"
                         :socket="socket"
                         v-on:update-tasks="updateTasks"
                         v-on:update-progress="updateProgress"
                         >
          </task-textarea>
          <burn-down class="burn-down"
                       :id="id"
                       :tasks="tasks"
                       :progress="progress"
                       :socket="socket"
                       v-on:update-tasks="updateTextTasks"
                       >
          </burn-down>
        </div>
      </div>
      <div class="wrapper" v-if="viewMode == 2">
        <burn-down class="burn-down-large"
                   :id="id"
                   :tasks="tasks"
                   :progress="progress"
                   :socket="socket"
                   v-on:update-tasks="updateTextTasks"
                   >
        </burn-down>

        <div class="rightpane">
          <task-textarea class="text-area"
                         :id="id"
                         :tasks="textTasks"
                         :line="taskLine"
                         :socket="socket"
                         v-on:update-tasks="updateTasks"
                         v-on:update-progress="updateProgress"
                         >
          </task-textarea>
          <task-treemap class="treemap-area"
                        :tasks="tasks"
                        :trigger="updateTrigger"
                        v-on:update-tasks="updateTextTasks"
                        v-on:select-task="selectTask">
          </task-treemap>
        </div>
      </div>
      <div class="wrapper" v-if="viewMode == 3">
        <task-textarea class="text-area-left"
                       :id="id"
                       :tasks="textTasks"
                       :line="taskLine"
                       :socket="socket"
                       v-on:update-tasks="updateTasks"
                       v-on:update-progress="updateProgress"
                       >
        </task-textarea>

        <div class="rightpane">
          <task-treemap class="treemap-area-right"
                        :tasks="tasks"
                        :trigger="updateTrigger"
                        v-on:update-tasks="updateTextTasks"
                        v-on:select-task="selectTask">
          </task-treemap>
          <burn-down class="burn-down"
                     :id="id"
                     :tasks="tasks"
                     :progress="progress"
                     :socket="socket"
                     v-on:update-tasks="updateTextTasks"
                     >
          </burn-down>
        </div>
      </div>
    </div>

    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.7/ace.js"></script>
    <script type="text/javascript" src="dist/bundle.js">
    </script>
  </body>
</html>
